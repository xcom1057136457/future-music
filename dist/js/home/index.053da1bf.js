import{G as M,H as R,b as Q,m as S,f as l,g as r,w as m,u as _,k as t,F as f,q as p,I as $,S as V,J as W,o,h as J,n as L,v as k,M as X,N as Y,O as Z,P as ee}from"../.pnpm/.pnpm.4cafd867.js";const D={401:"认证失败，无法访问系统资源",403:"当前操作没有权限",404:"访问资源不存在",default:"系统未知错误，请反馈给管理员"};function te(e){let s="";for(const u of Object.keys(e)){const n=e[u],h=`${encodeURIComponent(u)}=`;if(n!==null&&n!==""&&typeof n<"u")if(typeof n=="object"){for(const y of Object.keys(n))if(n[y]!==null&&n[y]!==""&&typeof n[y]<"u"){const w=`${u}[${y}]`,j=`${encodeURIComponent(w)}=`;s+=`${j+encodeURIComponent(n[y])}&`}}else s+=`${h+encodeURIComponent(n)}&`}return s}const se={set(e,s){sessionStorage&&e!==null&&s!==null&&sessionStorage.setItem(e,s)},get(e){return!sessionStorage||e===null?null:sessionStorage.getItem(e)},setJSON(e,s){s!==null&&this.set(e,JSON.stringify(s))},getJSON(e){const s=this.get(e);if(s!==null)return JSON.parse(s)},remove(e){sessionStorage.removeItem(e)}},oe={set(e,s){localStorage&&e!==null&&s!==null&&localStorage.setItem(e,s)},get(e){return!localStorage||e===null?null:localStorage.getItem(e)},setJSON(e,s){s!==null&&this.set(e,JSON.stringify(s))},getJSON(e){const s=this.get(e);if(s!==null)return JSON.parse(s)},remove(e){localStorage.removeItem(e)}},q={session:se,local:oe},v=M.create({baseURL:"https://service-cv4uh8uk-1309946598.gz.apigw.tencentcs.com/release",timeout:5e3,withCredentials:!0});v.interceptors.request.use(e=>{var u;const s=((u=e.headers||{})==null?void 0:u.isRepeatSubmit)===!1;if(e.method==="get"&&e.params){let n=`${e.url}?${te(e.params)}`;n=n.slice(0,-1),e.params={},e.url=n}if(!s&&(e.method==="post"||e.method==="put")){const n={url:e.url,data:typeof e.data=="object"?JSON.stringify(e.data):e.data,time:new Date().getTime()},h=q.session.getJSON("sessionObj");if(h==null||h==="")q.session.setJSON("sessionObj",n);else{const y=h.url,w=h.data,j=h.time,C=1e3;if(w===n.data&&n.time-j<C&&y===n.url){const U="数据正在处理，请勿重复提交";return Promise.reject(new Error(U))}q.session.setJSON("sessionObj",n)}}return e},e=>Promise.reject(e));v.interceptors.response.use(e=>{const s=e.data.code||200,u=D[s]||e.data.msg||D.default;return s===601||s===500?(R(u),Promise.reject(new Error(u))):s!==200?(R(u),Promise.reject(new Error(u))):Promise.resolve(e.data)},e=>{let{message:s}=e;return s==="Network Error"?s="后端接口连接异常":s.includes("timeout")?s="系统接口请求超时":s.includes("Request failed with status code")&&(s=`系统接口${s.substr(s.length-3)}异常`),R(s),Promise.reject(e)});function ne(){return v({url:"/search/default",method:"get"})}function ie(e){return v({url:"/banner",method:"get",params:e})}function le(){return v({url:"/personalized",method:"get"})}function re(e){return v({url:"/top/playlist/highquality",method:"get",params:e})}function ae(){return v({url:"/dj/hot",method:"get"})}function de(){return v({url:"/personalized/newsong",method:"get"})}function ce(){return v({url:"/toplist",method:"get"})}function ue(e){return v({url:"/playlist/detail",method:"get",params:e})}const fe=t("div",{"i-carbon-menu":"","mr-3":"","text-xl":""},null,-1),me={"p-2":""},pe={"mb-2":"","overflow-hidden":"","rounded-2":""},he={"mb-2":"",flex:"",rounded:"","bg-white":"","py-2":""},xe={"text-xs":"",class:"text-black/80"},_e={"mb-2":"","overflow-hidden":"",rounded:"","bg-white":"","p-2":""},ve=t("div",{"mb-2":"",flex:"","items-center":""},[t("div",{"text-15px":""}," 推荐歌单 "),t("div",{"i-material-symbols-chevron-right-rounded":"","text-xl":""})],-1),ye={"w-full":"","inline-flex":"","gap-2":"","overflow-x-auto":""},we={"w-90px":"","text-12px":"",class:"text-black/80"},ge={key:1,flex:"","flex-1":"","justify-center":""},be={"mb-2":"","overflow-hidden":"",rounded:"","bg-white":"","p-2":""},Se=t("div",{"mb-2":"",flex:"","items-center":""},[t("div",{"mr-2":"","text-15px":""}," 不可错过的欧美歌单 "),t("div",{flex:"","items-center":"","rounded-3":"","bg-gray-200":"","px-7px":"","py-2px":""},[t("div",{"i-material-symbols-play-arrow-rounded":"","mr-2px":"","text-13px":""}),t("div",{"text-xs":""}," 播放 ")])],-1),ke={"w-full":"","inline-flex":"","gap-2":"","overflow-x-auto":""},je={flex:"","flex-1":"","flex-col":"","justify-center":""},Oe={"mb-1":"","text-sm":""},Ne={"text-xs":"","text-gray-700":""},Pe={"mb-2":"","overflow-hidden":"",rounded:"","bg-white":"","p-2":""},ze=t("div",{"mb-2":"",flex:"","items-center":""},[t("div",{"mr-2":"","text-15px":""}," 热门电台 "),t("div",{flex:"","items-center":"","rounded-3":"","bg-gray-200":"","px-7px":"","py-2px":""},[t("div",{"i-material-symbols-play-arrow-rounded":"","mr-2px":"","text-13px":""}),t("div",{"text-xs":""}," 播放 ")])],-1),Je={"w-full":"","inline-flex":"","gap-2":"","overflow-x-auto":""},Le={flex:"","flex-1":"","flex-col":"","justify-center":""},Ce={"mb-1":"","text-sm":""},Ue={"text-xs":"","text-gray-700":""},Re={"mb-2":"","overflow-hidden":"",rounded:"","bg-white":"","p-2":""},$e=t("div",{"mb-2":"",flex:"","items-center":""},[t("div",{"mr-2":"","text-15px":""}," 推荐新音乐 "),t("div",{flex:"","items-center":"","rounded-3":"","bg-gray-200":"","px-7px":"","py-2px":""},[t("div",{"i-material-symbols-play-arrow-rounded":"","mr-2px":"","text-13px":""}),t("div",{"text-xs":""}," 播放 ")])],-1),qe={"w-full":"","inline-flex":"","gap-2":"","overflow-x-auto":""},Be={flex:"","flex-1":"","flex-col":"","justify-center":""},Ee={"mb-1":"","text-sm":""},He={"text-xs":"","text-gray-700":""},De={rounded:"","bg-white":"","p-2":""},Te={"mb-2":"",flex:"","items-center":""},Ge={"text-15px":""},Fe=t("div",{"i-material-symbols-chevron-right-rounded":"","text-xl":""},null,-1),Ie={flex:"","flex-1":"","flex-col":"","justify-center":""},Ae={"mb-1":"","text-sm":""},Ke={"text-xs":"","text-gray-700":""},Qe=Q({name:"Home",__name:"index",setup(e){const s=S("");async function u(){const{code:d,data:a}=await ne();d===200&&(s.value=a.showKeyword)}u();const n=S([]);async function h(){const{code:d,banners:a}=await ie({type:2});d===200&&(n.value=a)}h();const y=S([{label:"每日推荐",name:"recommended",icon:"i-material-symbols-crossword"},{label:"歌单",name:"songSheet",icon:"i-material-symbols-text-snippet"},{label:"排行榜",name:"rankings",icon:"i-material-symbols-trophy"},{label:"数字专辑",name:"digitalAlbum",icon:"i-material-symbols-movie-filter-sharp"}]),w=S([]);async function j(){const{code:d,result:a}=await le();d===200&&(w.value=a)}j();const C=S([]);async function U(){const{code:d,playlists:a}=await re({type:1});d===200&&(C.value=$(a,3))}U();const B=S([]);async function T(){const{code:d,djRadios:a}=await ae();d===200&&(B.value=$(a,3))}T();const E=S([]);async function G(){const{code:d,result:a}=await de();d===200&&(E.value=$(a,3))}G();const H=S([]);async function F(){const{code:d,list:a}=await ce();if(d===200)for(let g=0;g<=2;g++)H.value.push({...a[g],songList:await I(a[g].id)})}function I(d){return new Promise(async a=>{const{code:g,playlist:b}=await ue({id:d});g===200&&a(b)})}return F(),(d,a)=>{const g=V,b=X,O=Y,N=W,P=Z,A=ee;return o(),l(f,null,[r(g,{disabled:"",placeholder:_(s),shape:"round"},{left:m(()=>[fe]),_:1},8,["placeholder"]),t("div",me,[t("div",pe,[r(N,{class:"my-swipe",autoplay:3e3,"indicator-color":"white","show-indicators":!1},{default:m(()=>[(o(!0),l(f,null,p(_(n),i=>(o(),J(O,{key:i.pic},{default:m(()=>[r(b,{fit:"cover",height:137,src:i.pic,"lazy-load":"","w-full":"","overflow-hidden":"","rounded-2":""},null,8,["src"])]),_:2},1024))),128))]),_:1})]),t("div",he,[(o(!0),l(f,null,p(_(y),i=>(o(),l("div",{key:i.name,flex:"","flex-1":"","flex-col":"","items-center":"","justify-center":""},[t("div",{"mb-2":"","text-25px":"",class:L(["text-black/80",i.icon])},null,2),t("div",xe,k(i.label),1)]))),128))]),t("div",_e,[ve,t("div",ye,[_(w)&&_(w).length?(o(!0),l(f,{key:0},p(_(w),i=>(o(),l("div",{key:i.id},[r(b,{class:"rounded","lazy-load":"","h-90px":"","w-90px":"","overflow-hidden":"","object-cover":"",src:i.picUrl},null,8,["src"]),t("div",we,[r(P,{rows:"2",content:i.name},null,8,["content"])])]))),128)):(o(),l("div",ge,[r(A,{image:"search",description:"暂无数据","image-size":"80"})]))])]),t("div",be,[Se,t("div",ke,[r(N,{class:"my-swipe",autoplay:0,"indicator-color":"white","show-indicators":!1},{default:m(()=>[(o(!0),l(f,null,p(_(C),(i,x)=>(o(),J(O,{key:x},{default:m(()=>[(o(!0),l(f,null,p(i,(c,z)=>(o(),l("div",{key:c.id,class:L({"mb-3":z!==2}),"w-full":"",flex:""},[r(b,{"lazy-load":"","mr-2":"","h-50px":"","w-50px":"","overflow-hidden":"","rounded-2":"",fit:"cover",src:c.coverImgUrl},null,8,["src"]),t("div",je,[t("div",Oe,[r(P,{content:c.name},null,8,["content"])]),t("div",Ne,k(c.creator.nickname),1)])],2))),128))]),_:2},1024))),128))]),_:1})])]),t("div",Pe,[ze,t("div",Je,[r(N,{class:"my-swipe",autoplay:0,"indicator-color":"white","show-indicators":!1},{default:m(()=>[(o(!0),l(f,null,p(_(B),(i,x)=>(o(),J(O,{key:x},{default:m(()=>[(o(!0),l(f,null,p(i,(c,z)=>(o(),l("div",{key:c.id,class:L({"mb-3":z!==2}),"w-full":"",flex:""},[r(b,{"lazy-load":"","mr-2":"","h-50px":"","w-50px":"","overflow-hidden":"","rounded-2":"",fit:"cover",src:c.picUrl},null,8,["src"]),t("div",Le,[t("div",Ce,[r(P,{content:c.copywriter},null,8,["content"])]),t("div",Ue,k(c.name),1)])],2))),128))]),_:2},1024))),128))]),_:1})])]),t("div",Re,[$e,t("div",qe,[r(N,{class:"my-swipe",autoplay:0,"indicator-color":"white","show-indicators":!1},{default:m(()=>[(o(!0),l(f,null,p(_(E),(i,x)=>(o(),J(O,{key:x},{default:m(()=>[(o(!0),l(f,null,p(i,(c,z)=>(o(),l("div",{key:c.id,class:L({"mb-3":z!==2}),"w-full":"",flex:""},[r(b,{"lazy-load":"","mr-2":"","h-50px":"","w-50px":"","overflow-hidden":"","rounded-2":"",fit:"cover",src:c.picUrl},null,8,["src"]),t("div",Be,[t("div",Ee,[r(P,{content:c.name},null,8,["content"])]),t("div",He,k(c.song.artists.map(K=>K.name).join(",")),1)])],2))),128))]),_:2},1024))),128))]),_:1})])]),t("div",De,[r(N,{class:"my-swipe",autoplay:0,"indicator-color":"white","show-indicators":!1},{default:m(()=>[(o(!0),l(f,null,p(_(H),i=>(o(),J(O,{key:i.id},{default:m(()=>[t("div",Te,[t("div",Ge,k(i.name),1),Fe]),(o(!0),l(f,null,p(i.songList.tracks.slice(0,3),(x,c)=>(o(),l("div",{key:x.id,class:L({"mb-2":c!==2}),flex:""},[r(b,{"lazy-load":"",fit:"cover","mr-2":"","h-60px":"","w-60px":"","overflow-hidden":"","rounded-2":"",src:x.al.picUrl},null,8,["src"]),t("div",Ie,[t("div",Ae,[r(P,{content:x.name},null,8,["content"])]),t("div",Ke,k(x.al.name),1)])],2))),128))]),_:2},1024))),128))]),_:1})])])],64)}}});export{Qe as default};
